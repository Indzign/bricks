/*! Bricks by Taufik Nurrohman <https://github.com/tovic> based on <https://gist.github.com/2208329> */
!function(t,e){Array.prototype.min=function(){return Math.min.apply({},this)},Array.prototype.max=function(){return Math.max.apply({},this)},t.bricks=function(i,n,s){function l(t,e){return t.classList.add(e)}function r(t,e){return t.classList.contains(e)}function o(t){if(t||r(i,"bricks-ready")){for(i.parentNode.insertBefore(x,i.nextElementSibling||i.nextSibling||null),y=[],d=Math.floor(x.offsetWidth/m),x.parentNode&&x.parentNode.removeChild(x),c=0;d>c;++c)y[c]=0;for(c=0;h>c;++c){for(a=u[c],t&&(g=a.getAttribute("style")||"",a.setAttribute("data-style",g),a.style.float="none",a.style.display="block",a.style.position="absolute",a.style.margin=0),p=d-1;p>-1;--p)y[p]===y.min()&&(f=p);a.style.top=y[f]+s+"px",a.style.left=m*f+s+"px",y[f]+=a.offsetHeight+n,l(a,"brick-ready")}i.style.width=m*y.length-n+2*s+"px",i.style.height=y.max()-n+2*s+"px",l(i,"bricks-ready")}}n=n||0,s=s||0,"string"==typeof i&&(i=e.getElementById(i));var a,y,d,f,c,p,u=i.children,h=u.length,b=!1;if(h){var m=u[0].offsetWidth+n,g=i.getAttribute("style")||"",x=e.createElement("div");l(i,"bricks"),l(x,i.className),i.style.padding=0,i.style.position="relative",i.setAttribute("data-style",g),x.style.margin=0,x.style.padding=0,x.style.border=0,x.style.outline=0,x.style.width="auto",x.style.height=0,x.style.float="none",x.style.display="block",x.style.clear="both",x.style.visibility="hidden",o(1),t.addEventListener("resize",function(){b&&t.clearTimeout(b),b=t.setTimeout(o,50)},!1)}}}(window,document);