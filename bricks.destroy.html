<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Bricks &middot; Destroy</title>
    <link href="bricks.min.css" rel="stylesheet">
    <style>
* {
  margin:0;
  padding:0;
}
body {
  background-color:white;
  font:normal normal 13px/1 Helmet,FreeSans,Sans-Serif;
  color:black;
  padding:50px;
}
p {
  margin:0 0 1em;
  text-align:center;
}
label {cursor:pointer}
label input {display:none}
label input:checked + span {color:gray}
/* debug */
.debug .bricks {background-color:salmon}
.debug .brick {
  background-color:white;
  color:salmon;
}
    </style>
  </head>
  <body class="debug">

    <p>
      <label><input type="checkbox" onchange="this.checked ? bricks('bricks', 4, 4) : bricks_destroy('bricks');"><span>unite/broke</span></label>
    </p>

    <div id="bricks" class="bricks">
      <div class="brick" style="height:100px;">1</div>
      <div class="brick" style="height:100px;">2</div>
      <div class="brick" style="height:100px;">3</div>
      <div class="brick" style="height:60px;">4</div>
      <div class="brick" style="height:50px;">5</div>
      <div class="brick" style="height:30px;">6</div>
      <div class="brick" style="height:70px;">7</div>
      <div class="brick" style="height:100px;">8</div>
      <div class="brick" style="height:70px;">9</div>
      <div class="brick" style="height:40px;">10</div>
      <div class="brick" style="height:100px;">11</div>
      <div class="brick" style="height:100px;">12</div>
      <div class="brick" style="height:60px;">13</div>
      <div class="brick" style="height:50px;">14</div>
      <div class="brick" style="height:70px;">15</div>
      <div class="brick" style="height:40px;">16</div>
      <div class="brick" style="height:70px;">17</div>
      <div class="brick" style="height:100px;">18</div>
      <div class="brick" style="height:70px;">19</div>
      <div class="brick" style="height:40px;">20</div>
    </div>

    <script src="bricks.min.js"></script>
    <script>
// destroy function for `bricks`
function bricks_destroy(wall) {
    if (typeof wall === "string") {
        wall = document.getElementById(wall);
    }
    if (!wall.classList.contains('bricks-ready')) return;
    wall.classList.remove('bricks-ready');
    wall.setAttribute('style', wall.getAttribute('data-style'));
    var bricks = wall.children;
    for (var i = 0, len = bricks.length; i < len; ++i) {
        var brick = bricks[i];
        brick.classList.remove('brick-ready');
        brick.setAttribute('style', brick.getAttribute('data-style'));
    }
}
    </script>

  </body>
</html>